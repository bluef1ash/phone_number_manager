(self.webpackChunkphone_number_manager_frontend=self.webpackChunkphone_number_manager_frontend||[]).push([[935],{43673:function(V){V.exports={"modify-time":"modify-time___3DMm8"}},44534:function(V,G,n){"use strict";n.d(G,{Z:function(){return Le}});var X=n(49111),I=n(19650),C=n(11849),oe=n(34669),Q=n(54458),T=n(43185),U=n(93009),te=n(62350),Y=n(24565),K=n(34792),E=n(48086),le=n(57663),D=n(71577),h=n(39428),R=n(3182),w=n(86582),q=n(74379),N=n(38648),x=n(2824),se=n(93224),B=n(49684),Re=n(48176),je=n(84391),be=n(90631),Ce=n(49101),De=n(15111),_=n(19382),ee=n(96486),A=n(67294),Xe=n(71194),Pe=n(50146),Ee=n(5894),r=n(85893),$e=["modalProps","modalHandleOk","modalHandleCancel","children"];function Oe(p){var $=p.modalProps,S=p.modalHandleOk,F=p.modalHandleCancel,re=p.children,k=(0,se.Z)(p,$e);return(0,r.jsxs)(Pe.Z,(0,C.Z)((0,C.Z)({width:600,destroyOnClose:!0,maskClosable:!1,onOk:S,onCancel:F,forceRender:!0,footer:[(0,r.jsxs)(D.Z,{onClick:F,children:[" ","\u91CD\u7F6E"," "]},"cancel"),(0,r.jsxs)(D.Z,{type:"primary",onClick:S,loading:$==null?void 0:$.confirmLoading,children:[" ","\u4FDD\u5B58"," "]},"ok")]},$),{},{children:[" ",(0,r.jsx)(Ee.A,(0,C.Z)((0,C.Z)({autoFocusFirstInput:!0,layout:"vertical",submitter:!1},k),{},{children:re}))," "]}))}var Se=Oe,xe=n(43673),Be=n.n(xe),Ae=["customActionRef","customColumns","customRequest","isOptionButtons","columnOptionButtons","batchRemoveEventHandler","batchElement","importDataUploadProps","exportDataEventHandler","removeData","modalForm"];function ke(p){var $,S,F=p.customActionRef,re=p.customColumns,k=p.customRequest,Me=p.isOptionButtons,ie=p.columnOptionButtons,ue=p.batchRemoveEventHandler,ne=p.batchElement,L=p.importDataUploadProps,de=p.exportDataEventHandler,ae=p.removeData,e=p.modalForm,He=(0,se.Z)(p,Ae),Ie=(0,A.useState)([]),me=(0,x.Z)(Ie,2),Te=me[0],ce=me[1],Ue=(0,A.useState)(!1),ve=(0,x.Z)(Ue,2),Ke=ve[0],W=ve[1],Ne=(0,A.useState)(!1),fe=(0,x.Z)(Ne,2),pe=fe[0],M=fe[1],We=(0,A.useState)(!1),he=(0,x.Z)(We,2),z=he[0],Fe=he[1],ze=(0,A.useState)(""),ye=(0,x.Z)(ze,2),Ze=ye[0],Je=ye[1],Ve=function(){var t,o;e==null||(t=e.formRef)===null||t===void 0||(o=t.current)===null||o===void 0||o.resetFields()},ge=function(){var t,o;M(!0),e==null||(t=e.formRef)===null||t===void 0||(o=t.current)===null||o===void 0||o.submit()},H=function(t,o,m,d){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;N.Z[o]({key:"import_data_notification",message:m,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h5",{children:[(0,r.jsx)(Re.Z,{})," ",typeof t=="undefined"?"\u4E0A\u4F20\u6587\u4EF6":t]}),d]}),duration:l})},Ge=function(){var t=re;return typeof t!="undefined"&&Me&&(t=[].concat((0,w.Z)(t),[{title:"\u64CD\u4F5C",valueType:"option",render:function(m,d){var l=d.id,i=(0,r.jsx)(r.Fragment,{}),s=(0,r.jsx)(r.Fragment,{});return typeof(e==null?void 0:e.onModifyFinish)!="undefined"&&(i=(0,r.jsx)(D.Z,{type:"link",onClick:function(){var f=(0,R.Z)((0,h.Z)().mark(function u(c){var v,b,a,Z,g,P;return(0,h.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(typeof(e==null?void 0:e.queryData)!="undefined"){O.next=2;break}return O.abrupt("return");case 2:return O.next=4,e.queryData(l);case 4:b=O.sent,a=b.code,Z=b.data,a===200&&typeof Z!="undefined"&&(e==null||(g=e.formRef)===null||g===void 0||(P=g.current)===null||P===void 0||P.setFieldsValue(Z)),Fe(!1),W(!0),e==null||(v=e.modifyButtonPreHandler)===null||v===void 0||v.call(e,c);case 11:case"end":return O.stop()}},u)}));return function(u){return f.apply(this,arguments)}}(),children:"\u7F16\u8F91"},"edit_button"+l.toString())),typeof ae!="undefined"&&(s=(0,r.jsx)(Y.Z,{title:"\u662F\u5426\u771F\u7684\u8981\u5220\u9664\u6B64\u6761\u76EE\uFF1F",onConfirm:(0,R.Z)((0,h.Z)().mark(function f(){var u,c,v,b;return(0,h.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(typeof ae!="undefined"){Z.next=2;break}return Z.abrupt("return");case 2:return Z.next=4,ae(l);case 4:u=Z.sent,c=u.code,v=u.message,c===200?(E.ZP.success(v==="success"?"\u5220\u9664\u6210\u529F\uFF01":v),F==null||(b=F.current)===null||b===void 0||b.reload()):E.ZP.error(v);case 8:case"end":return Z.stop()}},f)})),okText:"\u662F",cancelText:"\u5426",children:(0,r.jsx)(D.Z,{type:"link",children:"\u5220\u9664"},"remove_button"+l)},"remove_confirm"+l)),[i,s]}}])),t};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(De.ZP,(0,C.Z)({actionRef:F,columnsState:{persistenceKey:"dataList",persistenceType:"localStorage"},columns:Ge(),request:function(){var j=(0,R.Z)((0,h.Z)().mark(function t(o,m){var d,l,i,s,f,u,c,v,b,a;return(0,h.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=o.current,l=o.pageSize,i=(0,ee.cloneDeep)(o),delete i.current,delete i.pageSize,s={},Object.keys(i).length>0){f={};for(u in i)if(typeof i[u]!="object"||(0,ee.isArray)(i[u]))f[u]=i[u];else for(c in i[u])if(f[u+"."+c]=[],(0,ee.isArray)(i[u][c]))for(v in i[u][c])f[u+"."+c].push(i[u][c][v][i[u][c][v].length-1]);s.search=f}return Object.keys(m).length>0&&(s.sort=m),b={current:d,pageSize:l},Object.keys(s).length>0&&(b.params=JSON.stringify(s)),g.next=11,k==null?void 0:k(b);case 11:return a=g.sent,g.abrupt("return",{data:a==null?void 0:a.data.records,success:(a==null?void 0:a.code)===200,total:a==null?void 0:a.data.total});case 13:case"end":return g.stop()}},t)}));return function(t,o){return j.apply(this,arguments)}}(),rowKey:"id",search:{labelWidth:"auto"},form:{syncToUrl:!1},dateFormatter:"string",toolBarRender:function(){return[typeof L!="undefined"&&(0,r.jsx)(U.Z,(0,C.Z)((0,C.Z)({multiple:!1,maxCount:1,customRequest:function(){var t=(0,R.Z)((0,h.Z)().mark(function o(m){var d,l,i,s,f,u,c,v;return(0,h.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=m.file,l=m.onSuccess,i=m.onError,typeof L!="undefined"){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,L.customAction(d);case 5:s=a.sent,f=s.message,u=s.status,c=s.importId,u!==B.Jx.DONE&&(v=setInterval((0,R.Z)((0,h.Z)().mark(function Z(){var g,P,J;return(0,h.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,L.asyncCallback(c);case 2:g=y.sent,P=g.code,J=g.status,P!==200&&(clearInterval(v),i==null||i({status:P||400,method:"post",message:f||"\u4E0A\u4F20\u5931\u8D25\uFF01",name:""})),y.t0=J,y.next=y.t0===B.Jx.HANDLING?9:y.t0===B.Jx.HANDLED?11:y.t0===B.Jx.DONE?13:y.t0===B.Jx.FAILED?16:19;break;case 9:return H(Ze,"info","\u6B63\u5728\u5904\u7406\u6570\u636E\u5E76\u5BFC\u5165\u6570\u636E\u5E93\uFF0C\u8BF7\u7A0D\u540E...",(0,r.jsx)(_.Z,{})),y.abrupt("break",20);case 11:return H(Ze,"info","\u5BFC\u5165\u6570\u636E\u5E93\u5B8C\u6210\uFF0C\u5237\u65B0\u9875\u9762\uFF0C\u8BF7\u7A0D\u540E...",(0,r.jsx)(_.Z,{})),y.abrupt("break",20);case 13:return clearInterval(v),l==null||l({code:P,message:f,importId:c,status:J}),y.abrupt("break",20);case 16:return clearInterval(v),i==null||i({status:P||400,method:"post",message:f||"\u4E0A\u4F20\u5931\u8D25\uFF01",name:""}),y.abrupt("break",20);case 19:return y.abrupt("break",20);case 20:case"end":return y.stop()}},Z)})),2e3));case 10:case"end":return a.stop()}},o)}));return function(o){return t.apply(this,arguments)}}(),beforeUpload:function(o){var m=o.name,d=o.type;Je(m);var l=d==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return l||N.Z.error({key:"import_data_notification",message:"\u53EA\u80FD\u4E0A\u4F20 Excel \u6587\u4EF6\uFF01",description:"",duration:4.5}),l||U.Z.LIST_IGNORE},onChange:function(){var t=(0,R.Z)((0,h.Z)().mark(function o(m){var d,l;return(0,h.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:l=m.file,s.t0=l.status,s.next=s.t0==="uploading"?4:s.t0==="error"?6:s.t0==="done"?8:11;break;case 4:return H(l.name,"info","\u6B63\u5728\u4E0A\u4F20\u6587\u4EF6\uFF0C\u8BF7\u7A0D\u540E...",(0,r.jsx)(_.Z,{})),s.abrupt("break",12);case 6:return H(l.name,"error","\u4E0A\u4F20\u6587\u4EF6\u5931\u8D25\uFF01",(0,r.jsx)(Q.Z,{percent:100,status:"exception"}),4.5),s.abrupt("break",12);case 8:return H(l.name,"error","\u4E0A\u4F20\u6587\u4EF6\u6210\u529F\uFF01",(0,r.jsx)(Q.Z,{percent:100}),4.5),F==null||(d=F.current)===null||d===void 0||d.reload(),s.abrupt("break",12);case 11:return s.abrupt("break",12);case 12:case"end":return s.stop()}},o)}));return function(o){return t.apply(this,arguments)}}(),showUploadList:!1,progress:{strokeWidth:0}},L),{},{children:(0,r.jsx)(D.Z,{icon:(0,r.jsx)(je.Z,{}),children:"\u5BFC\u5165\u6570\u636E"},"importDataButton")})),typeof de!="undefined"&&(0,r.jsx)(D.Z,{icon:(0,r.jsx)(be.Z,{}),onClick:de,children:"\u5BFC\u51FA\u6570\u636E"},"exportDataButton"),typeof(e==null?void 0:e.onCreateFinish)!="undefined"&&(0,r.jsx)(D.Z,{icon:(0,r.jsx)(Ce.Z,{}),type:"primary",onClick:function(o){var m,d,l;e==null||(m=e.formRef)===null||m===void 0||(d=m.current)===null||d===void 0||d.resetFields(),Fe(!0),W(!0),e==null||(l=e.createButtonPreHandler)===null||l===void 0||l.call(e,o)},children:"\u6DFB\u52A0"},"createDataButton")].concat((0,w.Z)(typeof ie!="undefined"?ie:[]))},rowSelection:{selectedRowKeys:Te,onChange:function(t){ce(t)},checkStrictly:!1},tableAlertRender:function(t){var o=t.selectedRowKeys;return(0,r.jsx)(I.Z,{size:24,children:(0,r.jsxs)("span",{children:["\u5DF2\u9009 ",o.length," \u9879"]})})},tableAlertOptionRender:function(t){var o=t.selectedRowKeys;return(0,r.jsxs)(I.Z,{size:16,children:[function(){return typeof ue!="undefined"?(0,r.jsx)(Y.Z,{title:"\u662F\u5426\u771F\u7684\u8981\u6279\u91CF\u5220\u9664\u6761\u76EE\uFF1F",onConfirm:(0,R.Z)((0,h.Z)().mark(function m(){var d,l,i,s;return(0,h.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ue(o);case 2:d=u.sent,l=d.code,i=d.message,l===200?(ce([]),E.ZP.success(i==="success"?"\u6279\u91CF\u5220\u9664\u6210\u529F\uFF01":i),F==null||(s=F.current)===null||s===void 0||s.reload()):E.ZP.error(i);case 6:case"end":return u.stop()}},m)})),okText:"\u662F",cancelText:"\u5426",children:(0,r.jsx)(D.Z,{type:"link",children:"\u6279\u91CF\u5220\u9664"},"batch_remove_button")},"batch_remove_confirm"):(0,r.jsx)(r.Fragment,{})}(),ne==null?void 0:ne(o)]})}},He)),(0,r.jsx)(Se,(0,C.Z)((0,C.Z)({modalProps:(0,C.Z)({title:(z?"\u6DFB\u52A0":"\u7F16\u8F91")+(e==null?void 0:e.title),visible:Ke,confirmLoading:pe,onOk:ge,onCancel:function(t){var o,m,d;e==null||(o=e.onCancel)===null||o===void 0||o.call(e,t),e==null||(m=e.formRef)===null||m===void 0||(d=m.current)===null||d===void 0||d.resetFields(),W(!1)},footer:(0,r.jsxs)(r.Fragment,{children:[z?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("span",{className:Be()["modify-time"],children:["\u66F4\u65B0\u65F6\u95F4\uFF1A",e==null||($=e.formRef)===null||$===void 0||(S=$.current)===null||S===void 0?void 0:S.getFieldValue("updateTime")]}),(0,r.jsx)(D.Z,{onClick:Ve,children:"\u91CD\u7F6E"},"cancel"),(0,r.jsx)(D.Z,{type:"primary",onClick:ge,loading:pe,children:"\u4FDD\u5B58"},"ok")]})},e==null?void 0:e.modalProps),onFinish:function(){var j=(0,R.Z)((0,h.Z)().mark(function t(o){var m,d,l,i,s,f,u,c,v;return(0,h.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(typeof(e==null?void 0:e.onCreateFinish)=="undefined"||typeof(e==null?void 0:e.onModifyFinish)=="undefined")){a.next=3;break}return M(!1),a.abrupt("return",!1);case 3:if(o.id=e==null||(m=e.formRef)===null||m===void 0||(d=m.current)===null||d===void 0?void 0:d.getFieldValue("id"),!z){a.next=10;break}return a.next=7,e.onCreateFinish(o);case 7:a.t0=a.sent,a.next=13;break;case 10:return a.next=12,e.onModifyFinish(o);case 12:a.t0=a.sent;case 13:if(l=a.t0,i=l.code,s=l.message,i!==200){a.next=24;break}return v=z?"\u6DFB\u52A0":"\u4FEE\u6539",E.ZP.success(s==="success"?"".concat(v,"\u6210\u529F\uFF01"):s),M(!1),F==null||(f=F.current)===null||f===void 0||f.reload(),e==null||(u=e.formRef)===null||u===void 0||(c=u.current)===null||c===void 0||c.resetFields(),W(!1),a.abrupt("return",!0);case 24:return M(!1),E.ZP.error(s),a.abrupt("return",!1);case 27:case"end":return a.stop()}},t)}));return function(t){return j.apply(this,arguments)}}(),onFinishFailed:function(){return M(!1)},formRef:e==null?void 0:e.formRef,submitter:{render:!1}},e==null?void 0:e.props),{},{children:e==null?void 0:e.element}))]})}var Le=ke},37201:function(V,G,n){"use strict";var X=n(11849),I=n(93224),C=n(61128),oe=n(16924),Q=n(67294),T=n(85893),U=["headerProps","routes"],te=function(K){var E=K.headerProps,le=K.routes,D=(0,I.Z)(K,U);return(0,T.jsx)(C.ZP,(0,X.Z)({header:(0,X.Z)({breadcrumb:{itemRender:function(R,w,q,N){return q.indexOf(R)===q.length-1||R.path===""?(0,T.jsx)("span",{children:R.breadcrumbName}):(0,T.jsx)(oe.Link,{to:N.join("/"),children:R.breadcrumbName})},routes:le}},E)},D))};G.Z=te}}]);
