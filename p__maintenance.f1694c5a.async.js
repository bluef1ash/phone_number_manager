(self.webpackChunkphone_number_manager_frontend=self.webpackChunkphone_number_manager_frontend||[]).push([[793],{31199:function(R,M,i){"use strict";var h=i(28991),t=i(81253),s=i(85893),m=i(67294),d=i(61643),_=["fieldProps","min","proFieldProps","max"],b=function(Z,E){var y=Z.fieldProps,l=Z.min,O=Z.proFieldProps,g=Z.max,w=(0,t.Z)(Z,_);return(0,s.jsx)(d.Z,(0,h.Z)({valueType:"digit",fieldProps:(0,h.Z)({min:l,max:g},y),ref:E,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:O},w))};M.Z=m.forwardRef(b)},84513:function(R,M,i){"use strict";i.r(M);var h=i(2824),t=i(39428),s=i(3182),m=i(44534),d=i(37201),_=i(7506),b=i(72899),f=i(96822),Z=i(5966),E=i(31199),y=i(67294),l=i(85893),O=function(P,C){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z.Z,{width:"xl",name:"name",label:"\u4FDD\u517B\u5957\u9910\u540D\u79F0",tooltip:"\u4E0D\u80FD\u8D85\u8FC710\u4E2A\u5B57\u7B26",placeholder:"\u8BF7\u8F93\u5165\u4FDD\u517B\u5957\u9910\u540D\u79F0",rules:[{required:!0,message:"\u4FDD\u517B\u5957\u9910\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\uFF01"},{max:10,message:"\u4FDD\u517B\u5957\u9910\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC710\u4E2A\u5B57\u7B26\uFF01"}]})," ",(0,l.jsx)(Z.Z,{width:"xl",name:"description",label:"\u4FDD\u517B\u5957\u9910\u63CF\u8FF0",tooltip:"\u4E0D\u80FD\u8D85\u8FC750\u4E2A\u5B57\u7B26",placeholder:"\u8BF7\u8F93\u5165\u4FDD\u517B\u5957\u9910\u63CF\u8FF0",rules:[{max:50,message:"\u4FDD\u517B\u5957\u9910\u63CF\u8FF0\u4E0D\u80FD\u8D85\u8FC750\u4E2A\u5B57\u7B26\uFF01"}]})," ",(0,l.jsx)(E.Z,{width:"xl",name:"price",label:"\u4FDD\u517B\u5957\u9910\u91D1\u989D",min:0,fieldProps:{prefix:"\uFFE5",precision:2,formatter:function(p){return p.replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(p){return parseFloat(p==null?void 0:p.replace(/[\s,]/g,""))}},tooltip:"\u4FDD\u7559\u4E24\u4F4D\u5C0F\u6570",placeholder:"\u8BF7\u8F93\u5165\u4FDD\u517B\u5957\u9910\u91D1\u989D",rules:[{required:!0,message:"\u4FDD\u517B\u5957\u9910\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]})," ",(0,l.jsx)(E.Z,{name:"serviceDay",label:"\u670D\u52A1\u5929\u6570",min:0,rules:[{required:!0,message:"\u670D\u52A1\u5929\u6570\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]}),(0,l.jsx)(_.Z,{width:"xl",name:"companyList",label:"\u6240\u5C5E\u5355\u4F4D",querySelectList:function(){var D=(0,s.Z)((0,t.Z)().mark(function p(F){return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b.Z.api.queryCompanySelectList([F]);case 2:return o.abrupt("return",o.sent.data);case 3:case"end":return o.stop()}},p)}));return function(p){return D.apply(this,arguments)}}(),selectList:P,setSelectList:C,cascaderFieldProps:{multiple:!0},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u5355\u4F4D\uFF01"}]})," "]})},g=function(){var P=(0,y.useRef)(),C=(0,y.useRef)(),D=(0,y.useState)([]),p=(0,h.Z)(D,2),F=p[0],B=p[1];(0,y.useEffect)(function(){(0,s.Z)((0,t.Z)().mark(function c(){return(0,t.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=B,e.next=3,b.Z.api.queryCompanySelectList([]);case 3:e.t1=e.sent.data,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},c)}))()},[]);var o=function(r){var e;return r.companies=(e=r.companyList)===null||e===void 0?void 0:e.map(function(u){return{id:u[u.length-1]}}),r};return(0,l.jsxs)(d.Z,{routes:[{path:"/welcome",breadcrumbName:"\u9996\u9875"},{path:"",breadcrumbName:"\u4FDD\u517B\u5957\u9910\u7BA1\u7406"},{path:"/company",breadcrumbName:"\u4FDD\u517B\u5957\u9910\u5217\u8868"}],children:[" ",(0,l.jsx)(m.Z,{customActionRef:P,customRequest:function(){var c=(0,s.Z)((0,t.Z)().mark(function r(e){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.Z.api.queryMaintenanceList(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},r)}));return function(r){return c.apply(this,arguments)}}(),customColumns:[{title:"\u4FDD\u517B\u5957\u9910\u540D\u79F0",dataIndex:"name",sorter:!0,ellipsis:!0},{title:"\u4FDD\u517B\u5957\u9910\u63CF\u8FF0",dataIndex:"description",ellipsis:!0},{title:"\u4FDD\u517B\u5957\u9910\u91D1\u989D",dataIndex:"price",valueType:"money",sorter:!0,ellipsis:!0},{title:"\u670D\u52A1\u5929\u6570",dataIndex:"serviceDay",valueType:"digit",sorter:!0,ellipsis:!0},{title:"\u6240\u5C5E\u5355\u4F4D",dataIndex:"companies",ellipsis:!0,render:function(r,e){var u;return(u=e.companies)===null||u===void 0?void 0:u.map(function(n){return n.name}).join(",")}}],isOptionButtons:!0,batchRemoveEventHandler:function(){var c=(0,s.Z)((0,t.Z)().mark(function r(e){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.Z.api.batchMaintenance({method:"DELETE",data:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},r)}));return function(r){return c.apply(this,arguments)}}(),modalForm:{title:"\u4FDD\u517B\u5957\u9910",element:O(F,B),formRef:C,onCreateFinish:function(){var c=(0,s.Z)((0,t.Z)().mark(function e(u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.Z.api.createMaintenance(o(u));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},e)}));function r(e){return c.apply(this,arguments)}return r}(),onModifyFinish:function(){var c=(0,s.Z)((0,t.Z)().mark(function e(u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.Z.api.modifyMaintenance(u.id,o(u));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},e)}));function r(e){return c.apply(this,arguments)}return r}(),queryData:function(){var c=(0,s.Z)((0,t.Z)().mark(function e(u){var n,a;return(0,t.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,f.Z.api.queryMaintenance(u);case 2:return n=L.sent,n.data.companies===null||n.data.companies.length===0?n.data.companyList=["0"]:n.data.companyList=(a=n.data.companies)===null||a===void 0?void 0:a.map(function(I){return[I.id]}),L.abrupt("return",n);case 5:case"end":return L.stop()}},e)}));function r(e){return c.apply(this,arguments)}return r}()},removeData:function(){var c=(0,s.Z)((0,t.Z)().mark(function r(e){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.Z.api.removeMaintenance(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},r)}));return function(r){return c.apply(this,arguments)}}()})," "]})};M.default=g},72899:function(R,M,i){"use strict";var h=i(73387);M.Z={api:h}},96822:function(R,M,i){"use strict";i.d(M,{Z:function(){return c}});var h={};i.r(h),i.d(h,{batchMaintenance:function(){return B},createMaintenance:function(){return w},modifyMaintenance:function(){return C},patchMaintenance:function(){return O},queryMaintenance:function(){return y},queryMaintenanceList:function(){return b},queryMaintenanceSelectList:function(){return Z},removeMaintenance:function(){return p}});var t=i(39428),s=i(11849),m=i(3182),d=i(91156),_=i(94256);function b(r,e){return f.apply(this,arguments)}function f(){return f=(0,m.Z)((0,t.Z)().mark(function r(e,u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",_.Z.get(d.t7,(0,s.Z)({params:e},u||{})));case 1:case"end":return a.stop()}},r)})),f.apply(this,arguments)}function Z(r){return E.apply(this,arguments)}function E(){return E=(0,m.Z)((0,t.Z)().mark(function r(e){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_.Z.get(d.Ot,(0,s.Z)({},e||{})));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function y(r,e){return l.apply(this,arguments)}function l(){return l=(0,m.Z)((0,t.Z)().mark(function r(e,u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",_.Z.get("".concat(d.t7,"/").concat(e),(0,s.Z)({},u||{})));case 1:case"end":return a.stop()}},r)})),l.apply(this,arguments)}function O(r,e,u){return g.apply(this,arguments)}function g(){return g=(0,m.Z)((0,t.Z)().mark(function r(e,u,n){return(0,t.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",_.Z.patch("".concat(d.t7,"/").concat(e),(0,s.Z)({data:u},n||{})));case 1:case"end":return v.stop()}},r)})),g.apply(this,arguments)}function w(r,e){return P.apply(this,arguments)}function P(){return P=(0,m.Z)((0,t.Z)().mark(function r(e,u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",_.Z.post(d.t7,(0,s.Z)({data:e},u||{})));case 1:case"end":return a.stop()}},r)})),P.apply(this,arguments)}function C(r,e,u){return D.apply(this,arguments)}function D(){return D=(0,m.Z)((0,t.Z)().mark(function r(e,u,n){return(0,t.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",_.Z.put("".concat(d.t7,"/").concat(e),(0,s.Z)({data:u},n||{})));case 1:case"end":return v.stop()}},r)})),D.apply(this,arguments)}function p(r,e){return F.apply(this,arguments)}function F(){return F=(0,m.Z)((0,t.Z)().mark(function r(e,u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",_.Z.delete("".concat(d.t7,"/").concat(e),(0,s.Z)({},u||{})));case 1:case"end":return a.stop()}},r)})),F.apply(this,arguments)}function B(r,e){return o.apply(this,arguments)}function o(){return o=(0,m.Z)((0,t.Z)().mark(function r(e,u){return(0,t.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",_.Z.post(d.Qk,(0,s.Z)({data:e},u||{})));case 1:case"end":return a.stop()}},r)})),o.apply(this,arguments)}var c={api:h}}}]);
